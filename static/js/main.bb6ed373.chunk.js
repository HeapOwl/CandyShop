(this.webpackJsonpcandyshop=this.webpackJsonpcandyshop||[]).push([[0],{39:function(e,t,c){},51:function(e,t,c){},60:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(19),r=c.n(s),o=c(5),i=c(10),l=c(6),d=c(80),j=c(78),m="http://localhost:8000/api",b=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},u=(c(51),c(0)),h=function(e,t){return console.log(e.location.pathname,t),e.location.pathname===t?{color:"#ea1c2c"}:{color:"white"}},p=Object(i.g)((function(e){var t=e.history,c=Object(n.useState)(!1),a=Object(l.a)(c,2),s=a[0],r=a[1];return window.addEventListener("scroll",(function(){window.scrollY>=50?r(!0):r(!1)})),Object(u.jsxs)(d.a,{id:"mainNavbar",className:s?"px-3 scrolled fixed-top":"px-3",expand:"lg",children:[Object(u.jsxs)(d.a.Brand,{href:"/",children:["CANDY STORE ",Object(u.jsx)("i",{class:"bi bi-cup-straw pr-3"})]}),Object(u.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(j.a,{className:"mr-auto",children:[Object(u.jsxs)(j.a.Link,{style:h(t,"/shop"),href:"/shop",children:["Shop",Object(u.jsx)("i",{class:"bi bi-shop-window px-2"})]}),Object(u.jsxs)(j.a.Link,{style:h(t,"/cart"),href:"/cart",children:["Cart",Object(u.jsx)("i",{class:"bi bi-cart-fill px-2"})]}),!b()&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(j.a.Link,{style:h(t,"/signin"),href:"/signin",children:["Sign in",Object(u.jsx)("i",{class:"bi bi-file-earmark-person px-2"})]}),Object(u.jsxs)(j.a.Link,{style:h(t,"/signup"),href:"/signup",children:["Sign up",Object(u.jsx)("i",{class:"bi bi-people-fill px-2"})]})]}),b()&&Object(u.jsx)(j.a.Link,{style:{color:"orange"},onClick:function(e){!function(e){if("undefined"!=typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(m,"/signout"),{method:"GET"}).then((function(e){console.log("Success signout")})).catch((function(e){console.log(e)}))}((function(){t.push("/signin")}))},children:"Sign Out"})]})})]})})),O=(c(60),function(e){e.title,e.description;var t=e.className,c=void 0===t?"":t,n=(e.icon,e.children);return Object(u.jsxs)("div",{children:[Object(u.jsx)(p,{}),Object(u.jsx)("div",{className:c,children:n})]})}),x=(c(39),function(e){var t=e.prod,c=t?"".concat(m,"/product/photo/").concat(t._id):"https://picsum.photos/500/300?random=".concat(Math.floor(10*Math.random()));return Object(u.jsx)("div",{className:"rounded card-img-top  ",children:Object(u.jsx)("img",{src:c,alt:"photo",style:{maxHeight:"100%",maxWidth:"100%"},className:"rounded"})})}),f=c(3),g=function(e){var t=e.prod,c=e.addtocart,a=void 0===c||c,s=e.removefromcart,r=void 0!==s&&s,o=e.setReload,d=e.reload,j=Object(n.useState)(!1),m=Object(l.a)(j,2),b=m[0],h=m[1];return b?Object(u.jsx)(i.a,{to:"/cart"}):Object(u.jsxs)("div",{className:"card text-danger bg-light border border-danger text-center mx-2 my-2",children:[Object(u.jsx)(x,{prod:t}),Object(u.jsxs)("div",{className:"card-body px-0 py-1",children:[Object(u.jsxs)("p",{className:"lead bg-danger text-white font-weight-normal text-wrap ",children:[t.name," ",Object(u.jsx)("br",{}),"$ ",t.price]}),Object(u.jsx)("p",{className:"lead bg-danger text-white  text-wrap"}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsx)("div",{className:"d-grid gap-2",children:a&&Object(u.jsx)("button",{onClick:function(){!function(e,t){var c=[];window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.push(Object(f.a)(Object(f.a)({},e),{},{count:1})),localStorage.setItem("cart",JSON.stringify(c)),t())}(t,(function(){h(!0)}))},className:"btn  btn-outline-danger m-2 ",children:"Add to Cart"})}),Object(u.jsx)("div",{className:"col-12",children:Object(u.jsx)("div",{className:"d-grid gap-2",children:r&&Object(u.jsx)("button",{onClick:function(){!function(e){var t=[];window&&localStorage.getItem("cart")&&(t=(t=JSON.parse(localStorage.getItem("cart"))).filter((function(t){return t._id!=e})),localStorage.setItem("cart",JSON.stringify(t)))}(t._id),o(!d)},className:"btn  btn-outline-danger mt-2 mb-2",children:"Remove from cart"})})})]})})]})]})},N=c(76),v=c(77),y=c(79),w=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(l.a)(s,2),o=(r[0],r[1]),i=function(){fetch("".concat(m,"/products")).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?o(e.error):(a(e),console.log(e))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){i()}),[]),Object(u.jsxs)(O,{children:[Object(u.jsxs)(y.a,{fade:!0,className:"d-none d-md-block ",controls:!1,children:[Object(u.jsx)(y.a.Item,{style:{height:"47vh"},children:Object(u.jsx)(N.a,{fluid:!0,src:"https://papabubble.co.in/wp-content/uploads/2018/05/new-banner1.jpg",alt:"First slide"})}),Object(u.jsx)(y.a.Item,{style:{height:"47vh"},children:Object(u.jsx)(N.a,{fluid:!0,src:"https://papabubble.co.in/wp-content/uploads/2018/05/new-banner6.jpg",alt:"First slide"})}),Object(u.jsx)(y.a.Item,{style:{height:"47vh"},children:Object(u.jsx)(N.a,{fluid:!0,src:"https://papabubble.co.in/wp-content/uploads/2018/05/new-banner2.jpg",alt:"Second slide"})})]}),Object(u.jsxs)("h1",{className:"text-white  bg-danger font-weight-light py-5 px-3",children:["Buy your ",Object(u.jsx)("span",{className:"text-warning",children:"FAVORITE "})," candy online"]}),Object(u.jsx)(v.a,{children:Object(u.jsx)("p",{className:"text-center  pl-5"})}),Object(u.jsx)("div",{className:"row",children:c&&c.map((function(e,t){return Object(u.jsx)("div",{className:"col-md-4",children:Object(u.jsx)(g,{prod:e})},t)}))})]})},S=c(46),k=c.n(S),C=function(e){var t=e.products,c=e.setReload,a=e.reload,s=b(),r=s.user,o=s.token,i=Object(n.useState)({clientToken:null,success:!1,error:!1,loading:!1,instance:{}}),d=Object(l.a)(i,2),j=d[0],h=d[1],p=function(e,t){(function(e,t){return fetch("".concat(m,"/payment/gettoken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,t).then((function(e){console.log("INFO:",e),e.error?h(Object(f.a)(Object(f.a)({},e),{},{error:e.error})):h({clientToken:e.clientToken})})).catch()},O=function(){h({loading:!0});j.instance.requestPaymentMethod().then((function(e){var n={paymentMethodNonce:e.nonce,amount:x()};(function(e,t,c){return console.log("in process pay.",c),fetch("".concat(m,"/payment/braintree/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(r.id,o,n).then((function(e){h(Object(f.a)(Object(f.a)({},j),{},{success:e.success,loading:!1}));var n={products:t,transaction_id:e.transaction.id,amount:e.transaction.amount};!function(e,t,c){fetch("".concat(m,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({order:c})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(r.id,o,n),function(e){window&&(localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify([])));e()}((function(){c(!a)}))})).catch((function(e){console.log("Payment failse",e),h(Object(f.a)(Object(f.a)({},j),{},{success:!1,error:e,loading:!1}))}))}))},x=function(){var e=0;return t.map((function(t){e+=t.price})),e};return Object(n.useEffect)((function(){p(r.id,o)}),[]),Object(u.jsxs)("div",{children:[x()&&Object(u.jsxs)("h3",{className:"text-center text-dark mt-2",children:["Total Amount : ",x()," $"]}),Object(u.jsx)("div",{children:null!==j.clientToken&&t.length>0?Object(u.jsxs)("div",{children:[Object(u.jsx)(k.a,{options:{authorization:j.clientToken},onInstance:function(e){return j.instance=e}}),Object(u.jsx)("button",{className:"btn btn-outline-danger btn-lg",onClick:O,children:"Buy"})]}):Object(u.jsx)("div",{className:"p-5 m-5",children:Object(u.jsx)("img",{src:"imgs/lolli_icon.png",alt:"",className:"d-none d-lg-inline"})})})]})},A=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(l.a)(s,2),o=r[0],i=r[1];return Object(n.useEffect)((function(){a(function(){if(window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))}())}),[o]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(O,{title:"Welcome to Cart",description:"Ready to checkout",className:" text-white",children:[Object(u.jsxs)("h1",{className:"text-white  bg-danger font-weight-light py-5 px-3",children:["Ready to ",Object(u.jsx)("span",{className:"text-warning",children:" CheckOut"})]}),Object(u.jsx)(v.a,{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-md-6",children:0==c.length?Object(u.jsx)("h2",{className:"text-center text-dark py-5",children:"No Item in Cart"}):c&&c.map((function(e,t){return Object(u.jsx)(g,{addtocart:!1,reload:o,setReload:i,removefromcart:!0,prod:e},t)}))}),Object(u.jsx)("div",{className:"col-md-6",children:b()&&c?Object(u.jsx)(C,{products:c,setReload:i,reload:o}):Object(u.jsx)("h2",{children:"LOGIN TO PURCHASE"})})]})})]})})},I=c(14),E=function(){var e=Object(n.useState)({password:"",email:"",errors:"",loading:!1,didRedirect:!1}),t=Object(l.a)(e,2),c=t[0],a=t[1],s=(b().user,function(e){return function(t){a(Object(f.a)(Object(f.a)({},c),{},Object(I.a)({errors:!1},e,t.target.value)))}});return b()?Object(u.jsx)(i.a,{to:"/shop"}):Object(u.jsxs)(O,{children:[Object(u.jsxs)("h1",{className:"text-white text-center bg-danger font-weight-light py-5 px-3",children:[Object(u.jsx)("span",{className:"text-warning",children:" Welcome"})," back !"]}),function(){if(c.loading)return Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(u.jsx)("div",{className:"alert alert-success",children:"loading.. ."})})})}(),function(){if(c.errors)return Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(u.jsxs)("div",{className:"alert alert-danger",children:[Object(u.jsx)("strong",{children:"Failed!"}),"    "+c.errors," ."]})})})}(),Object(u.jsx)("form",{children:Object(u.jsx)("div",{className:"row mt-5 p-3",children:Object(u.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(u.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",value:c.email,onChange:s("email")})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(u.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",value:c.password,onChange:s("password")})]}),Object(u.jsxs)("d",{className:"d-grid ",children:[" ",Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),a(Object(f.a)(Object(f.a)({},c),{},{errors:"",loading:!0})),function(e){return fetch("".concat(m,"/signin"),{method:"POST",headers:{Accept:"application/json","content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:c.email,password:c.password}).then((function(e){console.log(e),e.error?a(Object(f.a)(Object(f.a)({},c),{},{errors:e.error,loading:!1})):function(e,t){"undefined"!=typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){a(Object(f.a)(Object(f.a)({},c),{},{didRedirect:!0}))}))})).catch((function(e){console.log("error in signin",e)}))},type:"submit",className:"btn btn-success ",children:"Submit"})]})]})})})]})},F=function(){var e=Object(n.useState)({name:"",password:"",email:"",errors:"",success:!1}),t=Object(l.a)(e,2),c=t[0],a=t[1],s=function(e){return function(t){a(Object(f.a)(Object(f.a)({},c),{},Object(I.a)({errors:!1},e,t.target.value)))}};return Object(u.jsxs)(O,{children:[Object(u.jsxs)("h1",{className:"text-white text-center bg-danger font-weight-light py-5 px-3",children:[Object(u.jsx)("span",{className:"text-warning",children:" Feel"})," the sweetness"," ",Object(u.jsx)("i",{class:"bi bi-stars"})]}),function(){if(c.success)return Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(u.jsxs)("div",{className:"alert alert-success",children:[Object(u.jsx)("strong",{children:"Success!"})," You can"," ",Object(u.jsx)(o.b,{to:"/signin",className:"alert-link",children:"Log in here"}),"."]})})})}(),function(){if(c.errors)return Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(u.jsxs)("div",{className:"alert alert-danger",children:[Object(u.jsx)("strong",{children:"Failed!"})," To register","    "+c.errors," ."]})})})}(),Object(u.jsx)("form",{className:"p-3 m-3",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputPassword2",className:"form-label",children:"Name"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"exampleInputPassword2",placeholder:"Jhon Doe",value:c.name,onChange:s("name")})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(u.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"example@email.com",value:c.email,onChange:s("email")}),Object(u.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(u.jsx)("input",{placeholder:"dots",type:"password",className:"form-control",id:"exampleInputPassword1",value:c.password,onChange:s("password")})]}),Object(u.jsxs)("div",{className:"d-grid ",children:[" ",Object(u.jsxs)("button",{type:"submit",onClick:function(e){e.preventDefault(),a(Object(f.a)(Object(f.a)({},c),{},{errors:!1}));var t,n=c.name,s=c.password,r=c.email;(t={name:n,email:r,password:s},fetch("".concat(m,"/signup"),{method:"POST",headers:{Accept:"application/json","content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?(a(Object(f.a)(Object(f.a)({},c),{},{errors:e.error,success:!1})),console.log(e)):a({name:"",password:"",email:"",errors:"",success:!0})})).catch((function(e){console.log("error in signup",e)}))},className:"btn btn-success ",children:["Submit",Object(u.jsx)("i",{className:"bi bi-person-plus mx-3"})]})]})]})})})]})},D=c(28),T=function(e){var t=e.component,c=Object(D.a)(e,["component"]);return Object(u.jsx)(i.b,Object(f.a)(Object(f.a)({},c),{},{render:function(e){return b()?Object(u.jsx)(t,Object(f.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},M=function(e){var t=e.component,c=Object(D.a)(e,["component"]);return Object(u.jsx)(i.b,Object(f.a)(Object(f.a)({},c),{},{render:function(e){return b()&&1===b().user.role?Object(u.jsx)(t,Object(f.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},P=function(){return Object(u.jsx)(O,{title:"UserDashboard ",children:Object(u.jsx)("h1",{children:"UserDashboard"})})},U=function(){var e=b().user;e.name,e.email,e.role;return Object(u.jsx)(O,{title:"Welcomto to Area Admin",description:"Manage all the products here",icon:"bi bi-gear-fill mx-3",className:"container bg-primary",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3 p-0",children:Object(u.jsxs)("div",{className:"card text-white bg-primary mb-3",style:{maxWidth:"18rem"},children:[Object(u.jsx)("div",{className:"card-header bg-primary",children:"Admin Nav"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(o.b,{to:"/admin/create/category",className:"nav-link text-white",children:"Create Category"}),Object(u.jsx)(o.b,{to:"/admin/update/category",className:"nav-link text-white",children:"Update Category"}),Object(u.jsx)(o.b,{to:"/admin/create/product",className:"nav-link text-white",children:"Create Product"}),Object(u.jsxs)(o.b,{to:"/admin/products",className:"nav-link text-white",children:["Manage Product"," "]}),Object(u.jsx)(o.b,{to:"/admin/categories",className:"nav-link text-white",children:"Manage Category"}),Object(u.jsx)(o.b,{to:"/admin/orders",className:"nav-link text-white",children:"Manage Orders"})]})]})}),Object(u.jsx)("div",{className:"col-9",children:Object(u.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"100%",position:"relative"},children:Object(u.jsx)("iframe",{src:"https://giphy.com/embed/3ohc0Vhbf02CWDll2E",width:"100%",height:"100%",style:{position:"absolute"},frameBorder:"0",className:"giphy-embed",allowFullScreen:!0})})})]})})},q=c(24),J=c.n(q),B=c(36),H=function(){return fetch("".concat(m,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},Y=function(){var e=Object(B.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/products?"),{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(B.a)(J.a.mark((function e(t){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/product/").concat(t),{method:"GET"});case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(l.a)(s,2),i=r[0],d=r[1],j=Object(n.useState)(!1),h=Object(l.a)(j,2),p=h[0],x=h[1],f=b(),g=f.user,N=f.token,v=function(e){e.preventDefault(),function(e,t,c){return fetch("".concat(m,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(g.id,N,{name:c}).then((function(e){e.error?(x(!1),d(e.error)):(d(!1),x(e.cate.name),a(""))}))};return Object(u.jsxs)(O,{className:"container my-4 ",title:"Create Category",description:"Add a new Product Category",icon:"bi bi-cart mx-3",children:[function(){if(p)return Object(u.jsxs)("div",{className:"alert alert-success",children:[Object(u.jsxs)("strong",{children:["Successfully created ",p,"!"]}),"."]})}(),function(){if(i)return Object(u.jsxs)("div",{className:"alert alert-danger",children:[Object(u.jsxs)("strong",{children:[" Failed - ",i,"!"]}),"."]})}(),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3 p-0",children:Object(u.jsxs)("div",{className:"card text-white bg-primary mb-3",children:[Object(u.jsx)("div",{className:"card-header bg-primary",children:"Admin Nav"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(o.b,{to:"/admin/dashboard",className:"nav-link text-dark",children:"Home"}),Object(u.jsx)(o.b,{to:"/admin/update/category",className:"nav-link text-white",children:"Update Category"}),Object(u.jsx)(o.b,{to:"/admin/create/product",className:"nav-link text-white",children:"Create Product"}),Object(u.jsxs)(o.b,{to:"/admin/products",className:"nav-link text-white",children:["Manage Product"," "]}),Object(u.jsx)(o.b,{to:"/admin/orders",className:"nav-link text-white",children:"Manage Orders"})]})]})}),Object(u.jsx)("div",{className:"col-9",children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"mb-3 text-white",children:[Object(u.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Category"}),Object(u.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1",required:!0,placeholder:"Ex . Summer","aria-describedby":"emailHelp",value:c,onChange:function(e){a(e.target.value)}})]}),Object(u.jsx)("div",{className:"d-grid ",children:Object(u.jsx)("button",{type:"submit",onClick:v,className:"btn btn-success ",children:"Create"})}),c]})})]})]})},R=function(){var e=b(),t=e.user,c=e.token,a=Object(n.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",product:"",FormData:"",error:"",loading:!1,redirect:""}),s=Object(l.a)(a,2),r=s[0],i=s[1],d=r.name,j=r.description,h=r.price,p=r.stock,x=r.categories,g=(r.category,r.product),N=r.formData,v=r.error;r.loading,r.redirect;Object(n.useEffect)((function(){H().then((function(e){e.error?i(Object(f.a)(Object(f.a)({},r),{},{error:e.error})):i(Object(f.a)(Object(f.a)({},r),{},{categories:e,formData:new FormData}))})).catch()}),[]);var y=function(e){e.preventDefault(),i(Object(f.a)(Object(f.a)({},r),{},{loading:!0})),function(e,t,c){return fetch("".concat(m,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:c}).then((function(e){if(!e.error)return e.json();console.log(e.error),e.json()})).catch((function(e){return console.log(e)}))}(t.id,c,N).then((function(e){e.error?i(Object(f.a)(Object(f.a)({},r),{},{error:e.error,loading:!1,product:""})):i(Object(f.a)(Object(f.a)({},r),{},{name:"",description:"",price:"",stock:"",photo:"",category:"",product:e.name,FormData:"",error:"",loading:!1,redirect:!0}))}))},w=function(e){return function(t){var c="";c="photo"===e?t.target.files[0]:t.target.value,N.set(e,c),i(Object(f.a)(Object(f.a)({},r),{},Object(I.a)({},e,c)))}};return Object(u.jsxs)(O,{title:"Add a product here!",icon:"bi bi-product mx-3",description:"Welcome to product creation section",className:"container bg-info p-4",children:[function(){if(g)return Object(u.jsxs)("div",{className:"alert alert-success",children:[Object(u.jsxs)("strong",{children:["Successfully created ",g,"!"]}),"."]})}(),function(){if(v)return Object(u.jsxs)("div",{className:"alert alert-danger",children:[Object(u.jsxs)("strong",{children:[" Failed - ",v,"!"]}),"."]})}(),Object(u.jsx)(o.b,{to:"/admin/dashboard",className:"btn btn-md btn-dark mb-3",children:"Admin Home"}),Object(u.jsx)("div",{className:"row bg-dark text-white rounded",children:Object(u.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("span",{children:"Post photo"}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("label",{className:"btn btn-block btn-success",children:Object(u.jsx)("input",{onChange:w("photo"),type:"file",name:"photo",accept:"image",placeholder:"choose a file"})})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{onChange:w("name"),name:"photo",className:"form-control",placeholder:"Name",value:d})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("textarea",{onChange:w("description"),name:"photo",className:"form-control",placeholder:"Description",value:j})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{onChange:w("price"),type:"number",className:"form-control",placeholder:"Price",value:h})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("select",{onChange:w("category"),className:"form-control",placeholder:"Category",children:[Object(u.jsx)("option",{children:"Select"}),x&&x.map((function(e,t){return Object(u.jsx)("option",{value:e._id,children:e.name},t)}))]})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{onChange:w("stock"),type:"number",className:"form-control",placeholder:"Quantity",value:p})}),Object(u.jsx)("button",{type:"submit",onClick:y,className:"btn btn-outline-success mb-3",children:"Create Product"})]})})})]})},W=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],r=b(),i=r.user,d=r.token,j=function(){Y().then((function(e){e.error?console.log(e.error):s(e)})).catch((function(e){return console.log(e)}))};Object(n.useEffect)((function(){j()}),[]);var h=function(e){(function(e,t,c){return fetch("".concat(m,"/product/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,i.id,d).then((function(e){console.log(e),j()})).catch((function(e){return console.log(e)}))};return Object(u.jsxs)(O,{title:"Welcome admin",description:"Manage products here",children:[Object(u.jsx)("h2",{className:"mb-4",children:"All products:"}),Object(u.jsx)(o.b,{className:"btn btn-info",to:"/admin/dashboard",children:Object(u.jsx)("span",{className:"",children:"Admin Home"})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsxs)("h2",{className:"text-center text-white my-3",children:["Total ",c.length," products"]}),c&&c.map((function(e,t){return Object(u.jsx)(a.a.Fragment,{children:Object(u.jsxs)("div",{className:"row text-center mb-2 ",children:[Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)("h3",{className:"text-white text-left",children:e.name})}),Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)(o.b,{className:"btn btn-success",to:"/admin/product/update/".concat(e._id),children:Object(u.jsx)("span",{className:"",children:"Update"})})}),Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)("button",{onClick:function(t){h(e._id)},className:"btn btn-danger",children:"Delete"})})]})},t)}))]})})]})},z=function(e){var t=e.match,c=b(),a=c.user,s=c.token,r=Object(n.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",product:"",FormData:"",error:"",loading:!1,redirect:""}),i=Object(l.a)(r,2),d=i[0],j=i[1],h=d.name,p=d.description,x=d.price,g=d.stock,N=d.categories,v=(d.category,d.product),y=d.formData,w=d.error,S=d.loading,k=(d.redirect,function(){H().then((function(e){console.log("in gac"),e.error?j(Object(f.a)(Object(f.a)({},d),{},{error:e.error})):j({categories:e,formData:new FormData})})).catch()});Object(n.useEffect)((function(){var e;e=t.params.productId,_(e).then((function(e){e.error?j(Object(f.a)(Object(f.a)({},d),{},{error:e.error})):(j(Object(f.a)(Object(f.a)({},d),{},{name:e.name,price:e.price,stock:e.stock,description:e.description,category:e.category,formData:new FormData})),k())})).catch(),console.log(d)}),[]);var C=function(e){e.preventDefault(),j(Object(f.a)(Object(f.a)({},d),{},{loading:!0})),function(e,t,c,n){return fetch("".concat(m,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(c)},body:n}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.productId,a.id,s,y).then((function(e){e.error?j(Object(f.a)(Object(f.a)({},d),{},{error:e.error,loading:!1,product:""})):j(Object(f.a)(Object(f.a)({},d),{},{name:"",description:"",price:"",stock:"",photo:"",category:"",product:e.name,FormData:"",error:"",loading:!1,redirect:!0}))}))},A=function(e){return function(t){var c="";c="photo"===e?t.target.files[0]:t.target.value,y.set(e,c),j(Object(f.a)(Object(f.a)({},d),{},Object(I.a)({},e,c)))}};return Object(u.jsxs)(O,{title:"Update Product here!",icon:"bi bi-product mx-3",description:"Welcome to product updation section",className:"container bg-info p-4",children:[function(){if(S)return Object(u.jsxs)("div",{className:"alert alert-warning",children:[Object(u.jsx)("strong",{children:"loading!"}),"."]})}(),function(){if(v)return Object(u.jsxs)("div",{className:"alert alert-success",children:[Object(u.jsxs)("strong",{children:["Successfully updated ",v,"!"]}),"."]})}(),function(){if(w)return Object(u.jsxs)("div",{className:"alert alert-danger",children:[Object(u.jsxs)("strong",{children:[" Failed - ",w,"!"]}),"."]})}(),Object(u.jsx)(o.b,{to:"/admin/dashboard",className:"btn btn-md btn-dark mb-3",children:"Admin Home"}),Object(u.jsx)("div",{className:"row bg-dark text-white rounded",children:Object(u.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(u.jsxs)("form",{children:[Object(u.jsx)("span",{children:"Post photo"}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("label",{className:"btn btn-block btn-success",children:Object(u.jsx)("input",{onChange:A("photo"),type:"file",name:"photo",accept:"image",placeholder:"choose a file"})})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{onChange:A("name"),name:"photo",className:"form-control",placeholder:"Name",value:h})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("textarea",{onChange:A("description"),name:"photo",className:"form-control",placeholder:"Description",value:p})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{onChange:A("price"),type:"number",className:"form-control",placeholder:"Price",value:x})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsxs)("select",{onChange:A("category"),className:"form-control",placeholder:"Category",children:[Object(u.jsx)("option",{children:"Select"}),N&&N.map((function(e,t){return Object(u.jsx)("option",{value:e._id,children:e.name},t)}))]})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{onChange:A("stock"),type:"number",className:"form-control",placeholder:"Quantity",value:g})}),Object(u.jsx)("button",{type:"submit",onClick:C,className:"btn btn-outline-success mb-3",children:"Update Product"})]})})})]})},G=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){H().then((function(e){e.error?console.log(e.error):s(e)})).catch((function(e){return console.log(e)}))}),[]),Object(u.jsxs)(O,{title:"Welcome admin",description:"Manage Categories here",children:[Object(u.jsx)("h2",{className:"mb-4",children:"All products:"}),Object(u.jsx)(o.b,{className:"btn btn-info",to:"/admin/dashboard",children:Object(u.jsx)("span",{className:"",children:"Admin Home"})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12",children:[Object(u.jsxs)("h2",{className:"text-center text-white my-3",children:["Total ",c.length," categories"]}),c&&c.map((function(e,t){return Object(u.jsx)(a.a.Fragment,{children:Object(u.jsxs)("div",{className:"row text-center mb-2 ",children:[Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("h3",{className:"text-white text-left",children:e.name})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)(o.b,{className:"btn btn-success",to:"/admin/category/update/".concat(e._id),children:Object(u.jsx)("span",{className:"",children:"Update"})})})]})},t)}))]})})]})},Q=function(e){var t=e.match,c=Object(n.useState)({}),a=Object(l.a)(c,2),s=(a[0],a[1]),r=Object(n.useState)(""),i=Object(l.a)(r,2),d=i[0],j=i[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),x=p[0],f=p[1],g=Object(n.useState)(!1),N=Object(l.a)(g,2),v=N[0],y=N[1],w=b(),S=w.user,k=w.token,C=function(e){e.preventDefault(),console.log({name:d}),function(e,t,c,n){return fetch("".concat(m,"/category/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.catId,S.id,k,{name:d}).then((function(e){e.error?(y(!1),f(e.error)):(f(!1),y(e.name),j(""))}))},A=function(){var e;(e=t.params.catId,fetch("".concat(m,"/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?console.log(e.error):(s(e),j(e.name))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){A()}),[]),Object(u.jsxs)(O,{className:"container my-4 ",title:"Update Category",description:"Update Product Category",icon:"bi bi-cart mx-3",children:[function(){if(v)return Object(u.jsxs)("div",{className:"alert alert-success",children:[Object(u.jsxs)("strong",{children:["Successfully created ",v,"!"]}),"."]})}(),function(){if(x)return Object(u.jsxs)("div",{className:"alert alert-danger",children:[Object(u.jsxs)("strong",{children:[" Failed - ",x,"!"]}),"."]})}(),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-3 p-0",children:Object(u.jsxs)("div",{className:"card text-white bg-primary mb-3",children:[Object(u.jsx)("div",{className:"card-header bg-primary",children:"Admin Nav"}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)(o.b,{to:"/admin/dashboard",className:"nav-link text-dark",children:"Home"}),Object(u.jsx)(o.b,{to:"/admin/update/category",className:"nav-link text-white",children:"Update Category"}),Object(u.jsx)(o.b,{to:"/admin/create/product",className:"nav-link text-white",children:"Create Product"}),Object(u.jsxs)(o.b,{to:"/admin/products",className:"nav-link text-white",children:["Manage Product"," "]}),Object(u.jsx)(o.b,{to:"/admin/orders",className:"nav-link text-white",children:"Manage Orders"})]})]})}),Object(u.jsx)("div",{className:"col-9",children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"mb-3 text-white",children:[Object(u.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Category"}),Object(u.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1",required:!0,placeholder:"Ex . Summer","aria-describedby":"emailHelp",value:d,onChange:function(e){j(e.target.value)}})]}),Object(u.jsx)("div",{className:"d-grid ",children:Object(u.jsx)("button",{type:"submit",onClick:C,className:"btn btn-success ",children:"Create"})}),d]})})]})]})},V=(c(73),function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(p,{}),Object(u.jsx)("section",{className:"container-fluid px-0",children:Object(u.jsxs)("div",{className:"row align-items-center",children:[Object(u.jsx)("div",{className:"col-lg-6 ",children:Object(u.jsxs)("div",{id:"headingGroup",className:"text-white text-center d-none d-lg-block mt-5",children:[Object(u.jsxs)("h1",{className:"",children:["MUSEUM",Object(u.jsx)("span",{children:"/"}),"OF",Object(u.jsx)("span",{children:"/"}),"CANDY"]}),Object(u.jsxs)("h1",{className:"",children:["MUSEUM",Object(u.jsx)("span",{children:"/"}),"OF",Object(u.jsx)("span",{children:"/"}),"CANDY"]}),Object(u.jsxs)("h1",{className:"",children:["MUSEUM",Object(u.jsx)("span",{children:"/"}),"OF",Object(u.jsx)("span",{children:"/"}),"CANDY"]}),Object(u.jsxs)("h1",{className:"",children:["MUSEUM",Object(u.jsx)("span",{children:"/"}),"OF",Object(u.jsx)("span",{children:"/"}),"CANDY"]}),Object(u.jsxs)("h1",{className:"",children:["MUSEUM",Object(u.jsx)("span",{children:"/"}),"OF",Object(u.jsx)("span",{children:"/"}),"CANDY"]}),Object(u.jsxs)("h1",{className:"",children:["MUSEUM",Object(u.jsx)("span",{children:"/"}),"OF",Object(u.jsx)("span",{children:"/"}),"CANDY"]}),Object(u.jsxs)("h1",{className:"",children:["MUSEUM",Object(u.jsx)("span",{children:"/"}),"OF",Object(u.jsx)("span",{children:"/"}),"CANDY"]})]})}),Object(u.jsx)("div",{className:"col-lg-6 px-0",children:Object(u.jsx)("img",{className:"img-fluid",src:"imgs/hand2.png",alt:""})})]})}),Object(u.jsxs)("section",{className:"container-fluid px-0",children:[Object(u.jsxs)("div",{className:"row align-items-center content",children:[Object(u.jsx)("div",{className:"col-md-6 order-2 order-md-1",children:Object(u.jsx)("img",{src:"imgs/milk.png",alt:"",className:"img-fluid"})}),Object(u.jsx)("div",{className:"col-md-6 text-center order-1 order-md-2",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsxs)("div",{className:"col-10 col-lg-8 blurb mb-5 mb-md-0",children:[Object(u.jsx)("h2",{children:"MUSEUM OF CANDY"}),Object(u.jsx)("img",{src:"imgs/lolli_icon.png",alt:"",className:"d-none d-lg-inline"}),Object(u.jsx)("p",{className:"lead",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque, iste molestiae beatae, maiores deserunt in voluptatibus aspernatur architecto excepturi delectus soluta? Ipsa, deleniti dolorem hic consequatur repellat eveniet quidem voluptate necessitatibus dolorum delectus minus vitae, ut, veritatis sint ipsum magnam autem nam ex deserunt debitis eaque ratione! Nobis, quidem assumenda."})]})})})]}),Object(u.jsxs)("div",{className:"row align-items-center content",children:[Object(u.jsx)("div",{className:"col-md-6 text-center",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsxs)("div",{className:"col-10 col-lg-8 blurb mb-5 mb-md-0",children:[Object(u.jsx)("h2",{children:"MUSEUM OF CANDY"}),Object(u.jsx)("img",{src:"imgs/lolli_icon.png",alt:"",className:"d-none d-lg-inline"}),Object(u.jsx)("p",{className:"lead",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque, iste molestiae beatae, maiores deserunt in voluptatibus aspernatur architecto excepturi delectus soluta? Ipsa, deleniti dolorem hic consequatur repellat eveniet quidem voluptate necessitatibus dolorum delectus minus vitae, ut, veritatis sint ipsum magnam autem nam ex deserunt debitis eaque ratione! Nobis, quidem assumenda."})]})})}),Object(u.jsx)("div",{className:"col-md-6",children:Object(u.jsx)("img",{src:"imgs/gumball.png",alt:"",className:"img-fluid"})})]}),Object(u.jsxs)("div",{className:"row align-items-center content",children:[Object(u.jsx)("div",{className:"col-md-6 order-2 order-md-1",children:Object(u.jsx)("img",{src:"imgs/sprinkles.png",alt:"",className:"img-fluid"})}),Object(u.jsx)("div",{className:"col-md-6 text-center order-1 order-md-2",children:Object(u.jsx)("div",{className:"row justify-content-center",children:Object(u.jsxs)("div",{className:"col-10 col-lg-8 blurb mb-5 mb-md-0",children:[Object(u.jsx)("h2",{children:"MUSEUM OF CANDY"}),Object(u.jsx)("img",{src:"imgs/lolli_icon.png",alt:"",className:"d-none d-lg-inline"}),Object(u.jsx)("p",{className:"lead",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Neque, iste molestiae beatae, maiores deserunt in voluptatibus aspernatur architecto excepturi delectus soluta? Ipsa, deleniti dolorem hic consequatur repellat eveniet quidem voluptate necessitatibus dolorum delectus minus vitae, ut, veritatis sint ipsum magnam autem nam ex deserunt debitis eaque ratione! Nobis, quidem assumenda."})]})})})]})]})]})}),$=function(){return Object(u.jsx)(o.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",exact:!0,component:V}),Object(u.jsx)(i.b,{path:"/shop",exact:!0,component:w}),Object(u.jsx)(i.b,{path:"/signin",exact:!0,component:E}),Object(u.jsx)(i.b,{path:"/signup",exact:!0,component:F}),Object(u.jsx)(i.b,{path:"/cart",exact:!0,component:A}),Object(u.jsx)(T,{path:"/user/dashboard",exact:!0,component:P}),Object(u.jsx)(M,{path:"/admin/dashboard",exact:!0,component:U}),Object(u.jsx)(M,{path:"/admin/create/category",exact:!0,component:L}),Object(u.jsx)(M,{path:"/admin/create/product",exact:!0,component:R}),Object(u.jsx)(M,{path:"/admin/product/update/:productId",exact:!0,component:z}),Object(u.jsx)(M,{path:"/admin/products",exact:!0,component:W}),Object(u.jsx)(M,{path:"/admin/categories",exact:!0,component:G}),Object(u.jsx)(M,{path:"/admin/category/update/:catId",exact:!0,component:Q})]})})};r.a.render(Object(u.jsx)($,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.bb6ed373.chunk.js.map